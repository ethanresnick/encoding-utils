# encoding utils, with type safety
